<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CubeSat Atitude Determination: Filters</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CubeSat Atitude Determination
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___filters_gr.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">Filters</div>  </div>
</div><!--header-->
<div class="contents">

<p>A library for filtering attitude quaternion and other signals.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_filters_1_1_kalman_filter.html">Filters::KalmanFilter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class implements a 7-state (quaternion and angular rates) Extended Kalman Filter for spacecraft atitude filtering.  <a href="class_filters_1_1_kalman_filter.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>A library for filtering attitude quaternion and other signals. </p>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2019 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Remy CHATEL </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU Public License v3.0</dd></dl>
<h1>Description</h1>
<p>A set of algorithm to filter the attitude quaternion of a spacecraft. It implements a 7 state (quaternion and angular rates) Extended Kalman Filter.</p>
<p>It can be use to filter out noise in space applications for instance in Atitude Determination and Control Systems.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_filters_1_1_kalman_filter.html" title="This class implements a 7-state (quaternion and angular rates) Extended Kalman Filter for spacecraft ...">Filters::KalmanFilter</a></dd></dl>
<h2>Working principle of the filter</h2>
<p>Now that the attitude quaternion has been estimated with QuEst, it is very likely that the result will have some noise and further filtering is required.</p>
<p>The Kalman filter is an algorithm that computes the best estimate of the state for a time-varying process. Its predictor-corrector structure computes what the new state should be according to the model and the elapsed time since the last update (prediction). Then, it compares the prediction to the measured state in order to update the prediction (correction) as shown in the figure below. The strength of the correction is determined by the Kalman gain, which is computed using the different noise's covariances</p>
<p>This method avoids integrating since the fixed epoch, as the integration is done only between two iterations of the filter while carrying the information of past measurements to the next step to provide a better prediction.</p>
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Basic_concept_of_Kalman_filtering.svg/640px-Basic_concept_of_Kalman_filtering.svg.png" alt="Kalman Filter flowchart" title="Kalman Filter flowchart from Wikipedia" class="inline"/>
<h2>Initialisation</h2>
<p>The Kalman filter is initialized with knowledge of the spacecraft dynamic model and statistical information about the process and the sensors (the covariance).</p>
<p>In the context of this project, the system state will be the combination of the attitude quaternion and the angular rates. The resulting 7-state allows to propagate the rotation of the spacecraft according to its dynamic model:</p>
<p class="formulaDsp">
\begin{align} \dot{\mathbf{\omega}} &amp; = I^{-1} \left( -\mathbf{\omega}^\times I \mathbf{\omega} + \mathbf{u} + \mathbf{v} \right)\\ \dot{\mathbf{\epsilon}} &amp; = \frac{1}{2} \left( \eta \mathbf{1} + \mathbf{\epsilon}^\times \right) \mathbf{\omega}\\ \dot{\eta} &amp; = \frac{1}{2} \mathbf{\epsilon}^T \mathbf{\omega} \end{align}
</p>
<p>Where \(I\) is the inertia matrix of the satellite, \(\eta\) the scalar part of the attitude quaternion, \(\epsilon\) the vector part of the quaternion, \(\omega\) the angular rates, \(u\) the control torque and \(w\) the disturbance torque.</p>
<h1>Example code</h1>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_filters_8test_8cpp.html" title="Source code for Filters.test.h.">Filters.test.cpp</a></dd></dl>
<h1>Dependencies</h1>
<p>This library depends on the "Matrix" library that can be found here: <a href="https://github.com/RemyChatel/">https://github.com/RemyChatel/</a></p>
<p>In turn this library relies on &lt;std::cmath&gt; and &lt;std::vector&gt;</p>
<dl class="section attention"><dt>Attention</dt><dd>This library uses float only (NOT double) and therefore expect 6 to 7 significant figures</dd></dl>
<h1>References</h1>
<ul>
<li>"Kalman Filtering and the Attitude Determination and Control Task", by Hale, Vergez, Meerman and Hashida</li>
<li>"Spacecraft Dynamic and Control: An introduction", by A. de Ruiter, C. Damaren and J Forbes,</li>
<li>"Fundamentals of Astrodynamics and Applications", by D. Vallado,</li>
<li>Kalman Filter flowchart from Wikimedia, <a href="https://en.wikipedia.org/wiki/File:Basic_concept_of_Kalman_filtering.svg">https://en.wikipedia.org/wiki/File:Basic_concept_of_Kalman_filtering.svg</a></li>
</ul>
<h1>License</h1>
<p><b>(C) Copyright 2019 Remy CHATEL</b></p>
<p>Licensed Under GPL v3.0 License <a href="http://www.gnu.org/licenses/gpl-3.0.html">http://www.gnu.org/licenses/gpl-3.0.html</a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
